#check if a given number is a prime number; will return 1 if true and 0 if false

@micropython.asm_thumb
def isprime(r0):
    mov(r1, r0)
    mov(r4, 0)
    mov(r3, r0)
    label(loop1)
    mov(r2, r1)
    label(loop2)
    sub(r2, r2, r3)
    beq(teilbar)
    bmi(nichtteilbar)
    b(loop2)
    label(teilbar)
    add(r4, 1)
    label(nichtteilbar)
    sub(r3, 1)
    bne(loop1)
    cmp(r4, 2)
    bne(notprime)
    mov(r0, 1)
    b(exit)
    label(notprime)
    mov(r0, 0)
    label(exit)
